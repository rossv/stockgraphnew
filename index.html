<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Stock Investment Dashboard</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <!-- Custom Styles -->
  <link rel="stylesheet" href="styles.css" />
  <!-- Plotly -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body class="bg-light">
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Stock Dashboard</a>
      <button class="btn btn-outline-light" id="themeToggle">Toggle Theme</button>
    </div>
  </nav>

  <div class="container-fluid mt-4">
    <!-- Tab Navigation -->
    <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">
          Overview
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="detailed-tab" data-bs-toggle="tab" data-bs-target="#detailed" type="button" role="tab">
          Detailed Analysis
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="scenario-tab" data-bs-toggle="tab" data-bs-target="#scenario" type="button" role="tab">
          Scenario Comparison
        </button>
      </li>
    </ul>
    <div class="tab-content" id="dashboardTabsContent">
      <!-- Overview Tab: Investment Inputs and Dynamic Chart -->
      <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
        <div class="row mt-4">
          <!-- Input Panel -->
          <div id="inputPanel" class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Investments by Year</h2>
                <table class="table table-striped">
                  <thead class="table-primary">
                    <tr>
                      <th>Year</th>
                      <th>Stock Price</th>
                      <th>Range</th>
                      <th>Amount</th>
                      <th>Apply â†’</th>
                    </tr>
                  </thead>
                  <tbody id="sliderTable">
                    <!-- Rows injected by app.js -->
                  </tbody>
                </table>
                <button id="clearBtn" class="btn btn-secondary">Clear All Values</button>
              </div>
            </div>
          </div>
          <!-- Chart & Summary Panel -->
          <div id="chartPanel" class="col-lg-8 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Stock Value Over Time</h2>
                <div id="chart" style="width: 100%; height: 450px;"></div>
                <div class="table-responsive mt-3">
                  <table id="summaryTable" class="table table-bordered">
                    <thead class="table-primary">
                      <tr>
                        <th>Year</th>
                        <th>Price</th>
                        <th>Invested<br>This Year</th>
                        <th>Cumulative<br>Invested</th>
                        <th>Match<br>This Year</th>
                        <th>Cumulative<br>Match</th>
                        <th>Value<br>Match</th>
                        <th>Value<br>Employee</th>
                        <th>Total<br>Value</th>
                        <th>S&P500</th>
                      </tr>
                    </thead>
                    <tbody id="summaryBody">
                      <!-- Data rows injected by app.js -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Disclosures -->
        <div id="disclosures" class="text-center text-muted">
          <p>Past performance is not a guarantee of future results</p>
          <p>Excludes tax implications on matching shares and capital gains.</p>
        </div>
      </div>

      <!-- Detailed Analysis Tab: Advanced Metrics & Parameter Controls -->
      <div class="tab-pane fade" id="detailed" role="tabpanel" aria-labelledby="detailed-tab">
        <div class="row mt-4">
          <!-- Parameters Panel -->
          <div class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Advanced Parameters</h2>
                <div class="mb-3">
                  <label for="matchRateInput" class="form-label">Match Rate (%)</label>
                  <input type="number" id="matchRateInput" class="form-control" value="25" min="0" max="100">
                </div>
                <div class="mb-3">
                  <label for="vestingInput" class="form-label">Vesting Period (years)</label>
                  <input type="number" id="vestingInput" class="form-control" value="5" min="1" max="20">
                </div>
                <button id="applyParams" class="btn btn-primary">Apply Parameters</button>
              </div>
            </div>
          </div>
          <!-- Metrics Panel -->
          <div class="col-lg-8 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Advanced Metrics</h2>
                <div id="detailedMetrics">
                  <!-- Advanced metrics (ROI, CAGR, etc.) will be injected here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Scenario Comparison Tab: Future Projections -->
      <div class="tab-pane fade" id="scenario" role="tabpanel" aria-labelledby="scenario-tab">
        <div class="row mt-4">
          <!-- Scenario Controls -->
          <div class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Scenario Settings</h2>
                <div class="mb-3">
                  <label for="projectionYears" class="form-label">Projection (years)</label>
                  <input type="number" id="projectionYears" class="form-control" value="7" min="1" max="30">
                </div>
                <div class="mb-3">
                  <label for="conservativeRate" class="form-label">Conservative Growth (%)</label>
                  <input type="number" id="conservativeRate" class="form-control" value="5" min="0" max="50">
                </div>
                <div class="mb-3">
                  <label for="baseRate" class="form-label">Base Growth (%)</label>
                  <input type="number" id="baseRate" class="form-control" value="10" min="0" max="50">
                </div>
                <div class="mb-3">
                  <label for="aggressiveRate" class="form-label">Aggressive Growth (%)</label>
                  <input type="number" id="aggressiveRate" class="form-control" value="15" min="0" max="50">
                </div>
                <button id="updateScenario" class="btn btn-primary">Update Scenarios</button>
              </div>
            </div>
          </div>
          <!-- Scenario Chart Panel -->
          <div class="col-lg-8 mb-4">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title">Future Projection Comparison</h2>
                <div id="scenarioChart" style="width: 100%; height: 450px;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>      
    </div>
  </div>

  <!-- Custom Script -->
  <script src="app.js"></script>
  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
